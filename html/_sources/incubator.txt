.. _incubator:

Incubator
=========

The incubator Gini API is unstable and subject of change. It allows early access 
to immature features which are still in research or under development. 


Incubating Extractions
----------------------

This kind of features are not accessible via the v1 version of the Gini API. They
are only accessible by submitting the incubator version header and/or special parameters.

.. _accessing-incubating-extractions:

Accessing Incubating Extractions
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

The incubating extractions are accessible by submitting the incubator custom media type ``Access`` header.
See the example below:

.. code-block:: bash


    curl -H 'Authorization: BEARER <token>' -H 'Accept: application/vnd.gini.incubator+json' -i https://api.gini.net/documents/<documentId>/extractions
   


Receipt Extraction
^^^^^^^^^^^^^^^^^^

Receipts are printed acknowledgements that a specified article or payment has been received. 
They are often printed in stores with cash registers and include informations like price, tax,
discount and the purchased items or services.

Supported Specific Extractions
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

+--------------------------+----------------------------------------------+----------------------------------------------+---------------------------+-------------------------+
| Name                     | Description                                  | Entity                                       |  Candidates               | Special Values          |
+==========================+==============================================+==============================================+===========================+=========================+
| ``amountToPay``          | The amount which was paid.                   | :ref:`extraction-entity-amount`              |  n/a                      | n/a                     |
+--------------------------+----------------------------------------------+----------------------------------------------+---------------------------+-------------------------+
| ``docType``              | The document type of a given document.       | :ref:`extraction-entity-doctype`             |  n/a                      | ``Receipt``             |
+--------------------------+----------------------------------------------+----------------------------------------------+---------------------------+-------------------------+
| ``documentDate``         | The document date.                           | :ref:`extraction-entity-date`                |  ``dates``                | n/a                     |
+--------------------------+----------------------------------------------+----------------------------------------------+---------------------------+-------------------------+
| ``email``                | The email of the seller.                     | :ref:`extraction-entity-email`               |  ``emails``               | n/a                     |
+--------------------------+----------------------------------------------+----------------------------------------------+---------------------------+-------------------------+
| ``receiptNumber``        | The number of the receipt.                   | :ref:`extraction-entity-invoiceid`           | ``receiptNumbers``        | n/a                     |
+--------------------------+----------------------------------------------+----------------------------------------------+---------------------------+-------------------------+
| ``phoneNumber``          | The phone number of the seller.              | :ref:`extraction-entity-phonenumber`         |  ``phoneNumbers``         | n/a                     |
+--------------------------+----------------------------------------------+----------------------------------------------+---------------------------+-------------------------+
| ``senderName``           | The name of the seller.                      | :ref:`extraction-entity-companyname`         |  ``senderNames``          | n/a                     |
+--------------------------+----------------------------------------------+----------------------------------------------+---------------------------+-------------------------+
| ``senderNameAddition``   | The name of the branch of the seller.        | :ref:`extraction-entity-companynameaddition` |  n/a                      | n/a                     |
+--------------------------+----------------------------------------------+----------------------------------------------+---------------------------+-------------------------+
| ``senderStreet``         | The street and house number of the seller.   | :ref:`extraction-entity-street`              |  n/a                      | n/a                     |
+--------------------------+----------------------------------------------+----------------------------------------------+---------------------------+-------------------------+
| ``senderPostalCode``     | The zip code of the seller.                  | :ref:`extraction-entity-zipcode`             |  n/a                      | n/a                     |
+--------------------------+----------------------------------------------+----------------------------------------------+---------------------------+-------------------------+
| ``senderCity``           | The city of the seller.                      | :ref:`extraction-entity-city`                |  n/a                      | n/a                     |
+--------------------------+----------------------------------------------+----------------------------------------------+---------------------------+-------------------------+
| ``taxNumber``            | The tax number of the seller.                | :ref:`extraction-entity-taxnumber`           |  ``taxNumbers``           | n/a                     |
+--------------------------+----------------------------------------------+----------------------------------------------+---------------------------+-------------------------+
| ``vatRegNumber``         | The vat identification number of the seller. | :ref:`extraction-entity-vat`                 |  ``vatRegNumbers``        | n/a                     |
+--------------------------+----------------------------------------------+----------------------------------------------+---------------------------+-------------------------+
| ``website``              | The website of the seller.                   | :ref:`extraction-entity-url`                 |  ``websites``             | n/a                     |
+--------------------------+----------------------------------------------+----------------------------------------------+---------------------------+-------------------------+


Submit
~~~~~~

The document type hint parameter must be set to ``Receipt`` when :ref:`submitting-documents`. See the example below:

.. code-block:: bash

    curl -H 'Authorization: BEARER <token>' --data-binary '@file.pdf' -H 'Accept: application/vnd.gini.v1+json' -i https://api.gini.net/documents?filename=file.pdf&doctype=Receipt

Fuel Receipt Extraction
^^^^^^^^^^^^^^^^^^^^^^^

Fuel receipts are a special kind of receipts for purchasing gasoline in a gas station.

Supported Specific Extractions
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

+--------------------------+----------------------------------------------+----------------------------------------------+---------------------------+-------------------------+
| Name                     | Description                                  | Entity                                       |  Candidates               | Special Values          |
+==========================+==============================================+==============================================+===========================+=========================+
| ``amountLiters``         | The amount of gasoline purchased.            | :ref:`extraction-entity-volume`              |  n/a                      | n/a                     |
+--------------------------+----------------------------------------------+----------------------------------------------+---------------------------+-------------------------+
| ``amountToPay``          | The amount which was paid.                   | :ref:`extraction-entity-amount`              |  n/a                      | n/a                     |
+--------------------------+----------------------------------------------+----------------------------------------------+---------------------------+-------------------------+
| ``docType``              | The document type of a given document.       | :ref:`extraction-entity-doctype`             |  n/a                      | ``FuelReceipt``         |
+--------------------------+----------------------------------------------+----------------------------------------------+---------------------------+-------------------------+
| ``pricePerLiter``        | The price per liter of gasoline.             | :ref:`extraction-entity-fuelprice`           |  ``pricePerLiters``       | n/a                     |
+--------------------------+----------------------------------------------+----------------------------------------------+---------------------------+-------------------------+

Submit
~~~~~~

The document type hint parameter must be set to ``FuelReceipt`` when :ref:`submitting-documents`. 
See the example below:

.. code-block:: bash

   
    curl -H 'Authorization: BEARER <token>' --data-binary '@file.pdf' -H 'Accept: application/vnd.gini.v1+json' -i https://api.gini.net/documents?filename=file.pdf&doctype=FuelReceipt

Access
~~~~~~

Furthermore, the ``Accept`` header must be set to the incubator custom media type if you access the extractions. 
See :ref:`accessing-incubating-extractions`


Accounting Related Extractions
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

These extractions are printed on invoices and are needed for proper accounting.

Supported Specific Extractions
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

+--------------------------+----------------------------------------------+----------------------------------------------+---------------------------+-------------------------+
| Name                     | Description                                  | Entity                                       |  Candidates               | Special Values          |
+==========================+==============================================+==============================================+===========================+=========================+
| ``netAmount``            | The net amount of an invoice.                | :ref:`extraction-entity-amount`              |  n/a                      | n/a                     |
+--------------------------+----------------------------------------------+----------------------------------------------+---------------------------+-------------------------+
| ``tax0``                 | The amount with tax rate of 0%               | :ref:`extraction-entity-amount`              |  n/a                      | n/a                     |
+--------------------------+----------------------------------------------+----------------------------------------------+---------------------------+-------------------------+
| ``tax7``                 | The amount with tax rate of 7%               | :ref:`extraction-entity-amount`              |  n/a                      | n/a                     |
+--------------------------+----------------------------------------------+----------------------------------------------+---------------------------+-------------------------+
| ``tax16``                | The amount with tax rate of 16%              | :ref:`extraction-entity-amount`              |  n/a                      | n/a                     |
+--------------------------+----------------------------------------------+----------------------------------------------+---------------------------+-------------------------+
| ``tax19``                | The amount with tax rate of 19%              | :ref:`extraction-entity-amount`              |  n/a                      | n/a                     |
+--------------------------+----------------------------------------------+----------------------------------------------+---------------------------+-------------------------+

Access
~~~~~~

The ``Accept`` header must be set to the incubator custom media type if you access the extractions.
See :ref:`accessing-incubating-extractions`



Subject Extraction
^^^^^^^^^^^^^^^^^^

This extraction captures the subject line of a letter.

Supported Specific Extractions
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

+--------------------------+----------------------------------------------+----------------------------------------------+---------------------------+-------------------------+
| Name                     | Description                                  | Entity                                       |  Candidates               | Special Values          |
+==========================+==============================================+==============================================+===========================+=========================+
| ``subject``              | The subject line of a letter.                | :ref:`extraction-entity-subject`             |  n/a                      | n/a                     |
+--------------------------+----------------------------------------------+----------------------------------------------+---------------------------+-------------------------+

Access
~~~~~~

The ``Accept`` header must be set to the incubator custom media type if you access the extractions. 
See :ref:`accessing-incubating-extractions`



Recipient Extraction
^^^^^^^^^^^^^^^^^^^^

This extraction captures the recipient of a letter.

Supported Specific Extractions
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

+--------------------------+----------------------------------------------+----------------------------------------------+---------------------------+-------------------------+
| Name                     | Description                                  | Entity                                       |  Candidates               | Special Values          |
+==========================+==============================================+==============================================+===========================+=========================+
| ``recipient``            | The recipient of a letter.                   | :ref:`extraction-entity-recipient`           |  n/a                      | n/a                     |
+--------------------------+----------------------------------------------+----------------------------------------------+---------------------------+-------------------------+

Access
~~~~~~

The ``Accept`` header must be set to the incubator custom media type if you access the extractions.
See :ref:`accessing-incubating-extractions`

Energy Statement Extractions
^^^^^^^^^^^^^^^^^^^^^^^^^^^^

An energy statement is a document sent by an energy provider to their client which lists the energy consumption over a certain time period together with the charges. 

Supported Specific Extractions
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

+--------------------------+----------------------------------------------+----------------------------------------------+---------------------------+-------------------------+
| Name                     | Description                                  | Entity                                       |  Candidates               | Special Values          |
+==========================+==============================================+==============================================+===========================+=========================+
| ``amountToPay``          | The amount which has to be paid              | :ref:`extraction-entity-amount`              |  n/a                      | n/a                     |
+--------------------------+----------------------------------------------+----------------------------------------------+---------------------------+-------------------------+
| ``billingAmount``        | The amount which was charged.                | :ref:`extraction-entity-amount`              |  n/a                      | n/a                     |
+--------------------------+----------------------------------------------+----------------------------------------------+---------------------------+-------------------------+
| ``consumption``          | The amount of energy which was consumed.     | :ref:`extraction-entity-energyconsumption`   |  ``consumptions``         | n/a                     |
+--------------------------+----------------------------------------------+----------------------------------------------+---------------------------+-------------------------+
| ``consumptionDuration``  | The time period of the charged consumption.  | :ref:`extraction-entity-timeperiod`          |  n/a                      | n/a                     |
+--------------------------+----------------------------------------------+----------------------------------------------+---------------------------+-------------------------+
| ``counterNumber``        | The number of the counter which measured the | :ref:`extraction-entity-counternumber`       |  ``counterNumbers``       | n/a                     |
|                          | consumption.                                 |                                              |                           |                         |
+--------------------------+----------------------------------------------+----------------------------------------------+---------------------------+-------------------------+
| ``customerPostalCode``   | The postal code of the client.               | :ref:`extraction-entity-postalcode`          |  n/a                      | n/a                     |
+--------------------------+----------------------------------------------+----------------------------------------------+---------------------------+-------------------------+
| ``docType``              | The document type of a given document.       | :ref:`extraction-entity-doctype`             |  n/a                      | ``Energy``              |
+--------------------------+----------------------------------------------+----------------------------------------------+---------------------------+-------------------------+
| ``energyType``           | The type of energy beeing charged.           | :ref:`extraction-entity-energytype`          |  n/a                      | ``Electricity``,        |
|                          |                                              |                                              |                           | ``Gas``                 |
+--------------------------+----------------------------------------------+----------------------------------------------+---------------------------+-------------------------+
| ``paidAmount``           | The amount which was already paid.           | :ref:`extraction-entity-amount`              |  n/a                      | n/a                     |
+--------------------------+----------------------------------------------+----------------------------------------------+---------------------------+-------------------------+
| ``refundAmount``         | The amount which will be refunded.           | :ref:`extraction-entity-amount`              |  n/a                      | n/a                     |
+--------------------------+----------------------------------------------+----------------------------------------------+---------------------------+-------------------------+

Submit
~~~~~~

The document type hint parameter must be set to ``Energy`` when :ref:`submitting-documents`. 
See the example below:

.. code-block:: bash

   
    curl -H 'Authorization: BEARER <token>' --data-binary '@file.pdf' -H 'Accept: application/vnd.gini.v1+json' -i https://api.gini.net/documents?filename=file.pdf&doctype=Energy

Access
~~~~~~

Furthermore, the ``Accept`` header must be set to the incubator custom media type if you access the extractions. 
See :ref:`accessing-incubating-extractions`


Incubating Entities
-------------------
.. index::
   pair: volume; extraction entity
.. _extraction-entity-volume:

volume
^^^^^^

Describes a volume (e.g. of gasoline) with a specific unit (e.g. liter) in the format
``<Volume>:<Unit>``, where ``<Volume>`` is a decimal number with "." as decimal separator 
and ":" as delimiter between ``<Volume>`` and ``<Unit>``.

Format
~~~~~~
 
+--------------+---------------------+----------------------------------------------------------+
| Name         | Type                | Description                                              |
+==============+=====================+==========================================================+
| ``entity``   | ``string``          | **Must** be ``volume``                                   |
+--------------+---------------------+----------------------------------------------------------+
| ``value``    | ``string``          | Volume in the defined format                             |
+--------------+---------------------+----------------------------------------------------------+
| ``box``      | :ref:`bounding-box` | Bounding box of the occurrence including the page number |
+--------------+---------------------+----------------------------------------------------------+
 
Example
~~~~~~~
 
.. code-block:: json
 
    {
        "entity": "volume",
        "value": "63.56:l",
        "box": {
            "top": 210.0,
            "left": 199.0,
            "width": 43.0,
            "height": 7.0,
            "page": 1
        }
    }

.. index::
   pair: fuelprice; extraction entity
.. _extraction-entity-fuelprice:
 
fuelprice
^^^^^^^^^

Describes a price per liter (e.g. of gasoline) with a specific currency (e.g. EUR) in the format
``<Fuelprice>:<Currency>``, where ``<Fuelprice>`` is a decimal number with "." as decimal separator 
and ":" as delimiter between ``<Fuelprice>`` and ``<Currency>``.
 
Format
~~~~~~
 
+--------------+---------------------+----------------------------------------------------------+
| Name         | Type                | Description                                              |
+==============+=====================+==========================================================+
| ``entity``   | ``string``          | **Must** be ``fuelprice``                                |
+--------------+---------------------+----------------------------------------------------------+
| ``value``    | ``string``          | Fuelprice in the defined format                          |
+--------------+---------------------+----------------------------------------------------------+
| ``box``      | :ref:`bounding-box` | Bounding box of the occurrence including the page number |
+--------------+---------------------+----------------------------------------------------------+
 
Example
~~~~~~~
 
.. code-block:: json
  
    {
        "entity": "fuelprice",
        "value": "1.439:EUR",
        "box": {
            "top": 210.0,
            "left": 257.0,
            "width": 53.0,
            "height": 8.0,
            "page": 1
        }
    }

.. index::
   pair: subject; extraction entity
.. _extraction-entity-subject:
  
subject
^^^^^^^

Represents the subject line of a letter.

Format
~~~~~~

+--------------+---------------------+----------------------------------------------------------+
| Name         | Type                | Description                                              |
+==============+=====================+==========================================================+
| ``entity``   | ``string``          | **Must** be ``subject``                                  |
+--------------+---------------------+----------------------------------------------------------+
| ``value``    | ``string``          | The subject                                              |
+--------------+---------------------+----------------------------------------------------------+
| ``box``      | :ref:`bounding-box` | Bounding box of the occurrence including the page number |
+--------------+---------------------+----------------------------------------------------------+

Example
~~~~~~~

.. code-block:: json
  
    {
        "entity": "subject",
        "value": "Thema Unser Vorteilsangebot. Ihre Fahrfreude.",
        "box": {
            "top": 379.0,
            "left": 68.0,
            "width": 244.0,
            "height": 10.0,
            "page": 1
        }
    }



.. index::
   pair: recipient; extraction entity
.. _extraction-entity-recipient:

recipient
^^^^^^^^^

Represents the recipient of a letter.

Format
~~~~~~

+--------------+---------------------+----------------------------------------------------------+
| Name         | Type                | Description                                              |
+==============+=====================+==========================================================+
| ``entity``   | ``string``          | **Must** be ``recipient``                                |
+--------------+---------------------+----------------------------------------------------------+
| ``value``    | ``string``          | The recipient                                            |
+--------------+---------------------+----------------------------------------------------------+
| ``box``      | :ref:`bounding-box` | Bounding box of the occurrence including the page number |
+--------------+---------------------+----------------------------------------------------------+

Example
~~~~~~~

.. code-block:: json

    {
        "entity": "recipient",
        "value": "Max Mustermann Musterstrasse 1 Musterstadt",
        "box": {
            "top": 379.0,
            "left": 68.0,
            "width": 244.0,
            "height": 10.0,
            "page": 1
        }
    }

.. index::
   pair: counternumber; extraction entity
.. _extraction-entity-counternumber:

counternumber
^^^^^^^^^^^^^

Represents the number of a counter which measures energy consumption.

Format
~~~~~~

+--------------+---------------------+----------------------------------------------------------+
| Name         | Type                | Description                                              |
+==============+=====================+==========================================================+
| ``entity``   | ``string``          | **Must** be ``counternumber``                            |
+--------------+---------------------+----------------------------------------------------------+
| ``value``    | ``string``          | The counter number.                                      |
+--------------+---------------------+----------------------------------------------------------+
| ``box``      | :ref:`bounding-box` | Bounding box of the occurrence including the page number |
+--------------+---------------------+----------------------------------------------------------+


Example
~~~~~~~

.. code-block:: json

    {
        "entity": "counternumber",
        "value": "220666",
        "box": {
            "top": 379.0,
            "left": 68.0,
            "width": 244.0,
            "height": 10.0,
            "page": 1
        }
    }

.. index::
   pair: energyconsumption; extraction entity
.. _extraction-entity-energyconsumption:

energyconsumption
^^^^^^^^^^^^^^^^^

Represents the amount of consumed energy. The format is ``<amount>``:``<unit>`` where ``<unit>``
is always ``kWh``.

Format
~~~~~~

+--------------+---------------------+----------------------------------------------------------+
| Name         | Type                | Description                                              |
+==============+=====================+==========================================================+
| ``entity``   | ``string``          | **Must** be ``energyconsumption``                        |
+--------------+---------------------+----------------------------------------------------------+
| ``value``    | ``string``          | The energy consumption in the defined format.            |
+--------------+---------------------+----------------------------------------------------------+
| ``box``      | :ref:`bounding-box` | Bounding box of the occurrence including the page number |
+--------------+---------------------+----------------------------------------------------------+

Example
~~~~~~~

.. code-block:: json

    {
        "entity": "energyconsumption",
        "value": "176.00:kWh",
        "box": {
            "top": 379.0,
            "left": 68.0,
            "width": 244.0,
            "height": 10.0,
            "page": 1
        }
    }

.. index::
   pair: energytype; extraction entity
.. _extraction-entity-energytype:

energytype
^^^^^^^^^^

Represents the type of energy beeing charged. The possible types are ``Electricity`` or ``Gas``.


Format
~~~~~~

+--------------+---------------------+----------------------------------------------------------+
| Name         | Type                | Description                                              |
+==============+=====================+==========================================================+
| ``entity``   | ``string``          | **Must** be ``energytype``                               |
+--------------+---------------------+----------------------------------------------------------+
| ``value``    | ``string``          | ``Electricity`` or ``Gas``                               |
+--------------+---------------------+----------------------------------------------------------+
| ``box``      | :ref:`bounding-box` | Bounding box of the occurrence including the page number |
+--------------+---------------------+----------------------------------------------------------+

Example
~~~~~~~

.. code-block:: json

    {
        "entity": "energytype",
        "value": "Gas",
        "box": {
            "top": 379.0,
            "left": 68.0,
            "width": 244.0,
            "height": 10.0,
            "page": 1
        }
    }

.. index::
   pair: postalcode; extraction entity
.. _extraction-entity-postalcode:

postalcode
^^^^^^^^^^

Represents a postal code. The format is ``<countrycode>``:``<zipcode>``:``<city>``.


Format
~~~~~~

+--------------+---------------------+----------------------------------------------------------+
| Name         | Type                | Description                                              |
+==============+=====================+==========================================================+
| ``entity``   | ``string``          | **Must** be ``postalcode``                               |
+--------------+---------------------+----------------------------------------------------------+
| ``value``    | ``string``          | The postalcode in the defined format.                    |
+--------------+---------------------+----------------------------------------------------------+
| ``box``      | :ref:`bounding-box` | Bounding box of the occurrence including the page number |
+--------------+---------------------+----------------------------------------------------------+

Example
~~~~~~~

.. code-block:: json

    {
        "entity": "postalcode",
        "value": "DE:81379:Munich",
        "box": {
            "top": 379.0,
            "left": 68.0,
            "width": 244.0,
            "height": 10.0,
            "page": 1
        }
    }


.. index::
   pair: timeperiod; extraction entity
.. _extraction-entity-timeperiod:

timeperiod
^^^^^^^^^^

Represents a time period. The format is ``<number of days>``:``day``.


Format
~~~~~~

+--------------+---------------------+----------------------------------------------------------+
| Name         | Type                | Description                                              |
+==============+=====================+==========================================================+
| ``entity``   | ``string``          | **Must** be ``timeperiod``                               |
+--------------+---------------------+----------------------------------------------------------+
| ``value``    | ``string``          | The timeperiod in the defined format.                    |
+--------------+---------------------+----------------------------------------------------------+
| ``box``      | :ref:`bounding-box` | Bounding box of the occurrence including the page number |
+--------------+---------------------+----------------------------------------------------------+

Example
~~~~~~~

.. code-block:: json

    {
        "entity": "timeperiod",
        "value": "30:day",
        "box": {
            "top": 379.0,
            "left": 68.0,
            "width": 244.0,
            "height": 10.0,
            "page": 1
        }
    }

